<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Getting Started • proofr</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Getting Started">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">proofr</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.2.0.94</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="active nav-item"><a class="nav-link" href="../articles/proofr.html">Get started</a></li>
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/getwilds/proofr/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Getting Started</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/getwilds/proofr/blob/main/vignettes/proofr.Rmd" class="external-link"><code>vignettes/proofr.Rmd</code></a></small>
      <div class="d-none name"><code>proofr.Rmd</code></div>
    </div>

    
    
<p>Load <code>proofr</code></p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="http://getwilds.org/proofr/">proofr</a></span><span class="op">)</span></span></code></pre></div>
<div class="section level2">
<h2 id="authenticate-with-the-proof-api">Authenticate with the PROOF API<a class="anchor" aria-label="anchor" href="#authenticate-with-the-proof-api"></a>
</h2>
<p>Run the function <code><a href="../reference/proof_authenticate.html">proof_authenticate()</a></code>, which calls the
PROOF API with your username and password, and returns an API token (an
alphanumeric string).</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">my_proof_token</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/proof_authenticate.html">proof_authenticate</a></span><span class="op">(</span><span class="st">"username"</span>, <span class="st">"password"</span><span class="op">)</span></span>
<span><span class="va">my_proof_token</span></span>
<span><span class="co">#&gt; xyGKibGctQ92rmMKKb39q43XgPxGCmrWoX7NZtamTjDP</span></span></code></pre></div>
<p>(note: the above token is not a real token)</p>
<p>Alternatively, save your API token directly as an environment
variable named <code>PROOF_TOKEN</code> so that it can be used by other
<code>proofr</code> functions without exposing your token in your code.
To do so, run the following:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/Sys.setenv.html" class="external-link">Sys.setenv</a></span><span class="op">(</span><span class="st">"PROOF_TOKEN"</span> <span class="op">=</span> <span class="fu"><a href="../reference/proof_authenticate.html">proof_authenticate</a></span><span class="op">(</span><span class="st">"username"</span>, <span class="st">"password"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="start-a-proof-server">Start a PROOF Server<a class="anchor" aria-label="anchor" href="#start-a-proof-server"></a>
</h2>
<p>Start a PROOF server using the <code><a href="../reference/proof_start.html">proof_start()</a></code>
function:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/proof_start.html">proof_start</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p>Note: <code>proofr</code> assumes you only have one server running;
if you’ve started a server using the app, you’ll need to stop that
server before starting one in R via <code>proofr</code>.</p>
<p>Get metadata about the PROOF server you have started, including the
URL of the API, using <code>wait=TRUE</code> so that it doesn’t return
data until the server is fully ready to use.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">metadata</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/proof_status.html">proof_status</a></span><span class="op">(</span>wait <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="va">cromwell_url</span> <span class="op">&lt;-</span> <span class="va">metadata</span><span class="op">$</span><span class="va">cromwellUrl</span></span>
<span><span class="va">cromwell_url</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="rcromwell-setup">rcromwell setup<a class="anchor" aria-label="anchor" href="#rcromwell-setup"></a>
</h2>
<p>Load <code>rcromwell</code></p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw">if</span> <span class="op">(</span><span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/ns-load.html" class="external-link">requireNamespace</a></span><span class="op">(</span><span class="st">"rcromwell"</span>, quietly<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">"pak"</span><span class="op">)</span></span>
<span>  <span class="fu">pak</span><span class="fu">::</span><span class="fu"><a href="https://pak.r-lib.org/reference/pak.html" class="external-link">pak</a></span><span class="op">(</span><span class="st">"rcromwell"</span><span class="op">)</span></span>
<span><span class="op">}</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va">rcromwell</span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://httr.r-lib.org/" class="external-link">httr</a></span><span class="op">)</span></span></code></pre></div>
<p>There are two options for setting the URL in
<code>rcromwell</code>.</p>
<p>The first option is to set the Cromwell server URL to be recognized
by <code>rcromwell</code> with <code>cromwell_config</code></p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">cromwell_config</span><span class="op">(</span><span class="va">cromwell_url</span><span class="op">)</span></span></code></pre></div>
<p>The other option is to pass the url to each function, for
example:</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">cromwell_jobs</span><span class="op">(</span>url <span class="op">=</span> <span class="va">cromwell_url</span><span class="op">)</span></span></code></pre></div>
<p>In addition to setting the Cromwell URL, your PROOF API token is also
required for HTTP requests to your server. After getting your PROOF
token you can set it as the env var <code>PROOF_TOKEN</code>, or pass it
to the <code>rcromwell</code> functions, for example:</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">cromwell_jobs</span><span class="op">(</span>url <span class="op">=</span> <span class="va">cromwell_url</span>, token <span class="op">=</span> <span class="va">my_proof_token</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="interact-with-the-cromwell-server">Interact with the Cromwell server<a class="anchor" aria-label="anchor" href="#interact-with-the-cromwell-server"></a>
</h2>
<p>As an example, <code>cromwell_version()</code> checks the version of
your Cromwell server</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">cromwell_version</span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; $cromwell</span></span>
<span><span class="co">#&gt; [1] "84"</span></span></code></pre></div>
<p>See the many functions in <a href="https://getwilds.org/rcromwell/reference/" class="external-link">rcromwell
documentation</a>.</p>
</div>
<div class="section level2">
<h2 id="done">Done!<a class="anchor" aria-label="anchor" href="#done"></a>
</h2>
<p>You’re now setup to interact with your Cromwell server. See the
<code>rcromwell</code> <a href="https://getwilds.org/rcromwell/" class="external-link">package
docs</a> to get started.</p>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Scott Chamberlain.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.0.</p>
</div>

    </footer>
</div>





  </body>
</html>
